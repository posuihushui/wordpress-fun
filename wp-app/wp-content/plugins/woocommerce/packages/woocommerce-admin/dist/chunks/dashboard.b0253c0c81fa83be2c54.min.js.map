{"version":3,"sources":["webpack://wc.[modulename]/./client/dashboard/index.js","webpack://wc.[modulename]/./client/dashboard/style.scss","webpack://wc.[modulename]/./client/dashboard/utils.js"],"names":["CustomizableDashboard","lazy","ProfileWizard","Dashboard","props","path","profileItems","query","isOnboardingEnabled","completed","window","wcAdminFeatures","homescreen","Component","compose","getSetting","profile","withOnboardingHydration","identity","withSelect","select","ONBOARDING_STORE_NAME","getProfileItems","getCountryCode","countryState","split","getCurrencyRegion","region","euCountries","without","includes","getProductIdsForCart","includeInstalledItems","installedPlugins","onboarding","productIds","productTypes","product_types","forEach","productType","product","slug","push","theme","themes","find","themeData","id","getPriceValue","price","is_installed","string","Number","decodeEntities","replace"],"mappings":"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","file":"chunks/dashboard.b0253c0c81fa83be2c54.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { Component, Suspense, lazy } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { identity } from 'lodash';\n\n/**\n * WooCommerce dependencies\n */\nimport { getSetting } from '@woocommerce/wc-admin-settings';\nimport {\n\tONBOARDING_STORE_NAME,\n\twithOnboardingHydration,\n} from '@woocommerce/data';\nimport { Spinner } from '@woocommerce/components';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { isOnboardingEnabled } from 'dashboard/utils';\n\nconst CustomizableDashboard = lazy( () =>\n\timport( /* webpackChunkName: \"customizable-dashboard\" */ './customizable' )\n);\n\nconst ProfileWizard = lazy( () =>\n\timport( /* webpackChunkName: \"profile-wizard\" */ '../profile-wizard' )\n);\n\nclass Dashboard extends Component {\n\trender() {\n\t\tconst { path, profileItems, query } = this.props;\n\t\tif (\n\t\t\tisOnboardingEnabled() &&\n\t\t\t! profileItems.completed &&\n\t\t\t! window.wcAdminFeatures.homescreen\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<Suspense fallback={ <Spinner /> }>\n\t\t\t\t\t<ProfileWizard query={ query } />\n\t\t\t\t</Suspense>\n\t\t\t);\n\t\t}\n\n\t\tif ( window.wcAdminFeatures[ 'analytics-dashboard/customizable' ] ) {\n\t\t\treturn (\n\t\t\t\t<Suspense fallback={ <Spinner /> }>\n\t\t\t\t\t<CustomizableDashboard query={ query } path={ path } />\n\t\t\t\t</Suspense>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default compose(\n\tgetSetting( 'onboarding', {} ).profile\n\t\t? withOnboardingHydration( getSetting( 'onboarding', {} ).profile )\n\t\t: identity,\n\twithSelect( ( select ) => {\n\t\tif ( ! isOnboardingEnabled() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { getProfileItems } = select( ONBOARDING_STORE_NAME );\n\t\tconst profileItems = getProfileItems();\n\n\t\treturn { profileItems };\n\t} )\n)( Dashboard );\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { without } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { getSetting } from '@woocommerce/wc-admin-settings';\n\n/**\n * Gets the country code from a country:state value string.\n *\n * @param {string} countryState Country state string, e.g. US:GA.\n * @return {string} Country string.\n */\n\nexport function getCountryCode( countryState ) {\n\tif ( ! countryState ) {\n\t\treturn null;\n\t}\n\n\treturn countryState.split( ':' )[ 0 ];\n}\n\nexport function getCurrencyRegion( countryState ) {\n\tlet region = getCountryCode( countryState );\n\tconst euCountries = without(\n\t\tgetSetting( 'onboarding', { euCountries: [] } ).euCountries,\n\t\t'GB'\n\t);\n\tif ( euCountries.includes( region ) ) {\n\t\tregion = 'EU';\n\t}\n\n\treturn region;\n}\n\n/**\n * Gets the product IDs for items based on the product types and theme selected in the onboarding profiler.\n *\n * @param {Object} profileItems Onboarding profile.\n * @param {boolean} includeInstalledItems Include installed items in returned product IDs.\n * @param {Array} installedPlugins Installed plugins.\n * @return {Array} Product Ids.\n */\nexport function getProductIdsForCart(\n\tprofileItems,\n\tincludeInstalledItems = false,\n\tinstalledPlugins\n) {\n\tconst onboarding = getSetting( 'onboarding', {} );\n\tconst productIds = [];\n\n\t// The population of onboarding.productTypes only happens if the task list should be shown\n\t// so bail early if it isn't present.\n\tif ( ! onboarding.productTypes ) {\n\t\treturn productIds;\n\t}\n\n\tconst productTypes = profileItems.product_types || [];\n\n\tproductTypes.forEach( ( productType ) => {\n\t\tif (\n\t\t\tonboarding.productTypes[ productType ] &&\n\t\t\tonboarding.productTypes[ productType ].product &&\n\t\t\t( includeInstalledItems ||\n\t\t\t\t! installedPlugins.includes(\n\t\t\t\t\tonboarding.productTypes[ productType ].slug\n\t\t\t\t) )\n\t\t) {\n\t\t\tproductIds.push( onboarding.productTypes[ productType ].product );\n\t\t}\n\t} );\n\n\tconst theme = onboarding.themes.find(\n\t\t( themeData ) => themeData.slug === profileItems.theme\n\t);\n\n\tif (\n\t\ttheme &&\n\t\ttheme.id &&\n\t\tgetPriceValue( theme.price ) > 0 &&\n\t\t( includeInstalledItems || ! theme.is_installed )\n\t) {\n\t\tproductIds.push( theme.id );\n\t}\n\n\treturn productIds;\n}\n\n/**\n * Get the value of a price from a string, removing any non-numeric characters.\n *\n * @param {string} string Price string.\n * @return {number} Number value.\n */\nexport function getPriceValue( string ) {\n\treturn Number( decodeEntities( string ).replace( /[^0-9.-]+/g, '' ) );\n}\n\n/**\n * Returns if the onboarding feature of WooCommerce Admin should be enabled.\n *\n * While we preform an a/b test of onboarding, the feature will be enabled within the plugin build,\n * but only if the user recieved the test/opted in.\n *\n * @return {boolean} True if the onboarding is enabled.\n */\nexport function isOnboardingEnabled() {\n\tif ( ! window.wcAdminFeatures.onboarding ) {\n\t\treturn false;\n\t}\n\n\treturn getSetting( 'onboardingEnabled', false );\n}\n"],"sourceRoot":""}