{"version":3,"sources":["webpack://wc.[modulename]/./client/analytics/settings/historical-data/actions.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/index.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/layout.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/period-selector.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/progress.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/skip-checkbox.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/status.js","webpack://wc.[modulename]/./client/analytics/settings/historical-data/style.scss","webpack://wc.[modulename]/./client/analytics/settings/historical-data/utils.js","webpack://wc.[modulename]/./client/analytics/settings/index.js","webpack://wc.[modulename]/./client/analytics/settings/index.scss","webpack://wc.[modulename]/./client/analytics/settings/setting.js","webpack://wc.[modulename]/./client/analytics/settings/setting.scss"],"names":["HistoricalDataActions","importDate","onDeletePreviousData","onReimportData","onStartImport","onStopImport","status","getActions","importDisabled","includes","__","HistoricalData","arguments","dateFormat","state","activeImport","lastImportStartTimestamp","lastImportStopTimestamp","period","date","moment","format","label","skipChecked","makeQuery","bind","onImportFinished","onImportStarted","onDateChange","onPeriodChange","onSkipChange","path","errorMessage","createNotice","props","apiFetch","method","then","response","message","setState","Date","now","catch","error","debouncedSpeak","notes","updateNote","historicalDataNote","find","note","name","id","recordEvent","addQueryArgs","formatParams","val","Component","compose","withSelect","select","getNotes","notesQuery","page","per_page","QUERY_DEFAULTS","pageSize","type","withDispatch","dispatch","withSpokenMessages","HistoricalDataLayout","customersProgress","customersTotal","inProgress","ordersProgress","ordersTotal","getStatus","getImportStatus","isGetImportStatusRequesting","getImportTotals","params","customers","orders","requirement","freshness","SECOND","timeout","DEFAULT_REQUIREMENT","customersStatus","imported_from","isImporting","is_importing","ordersStatus","imported","total","isStatusLoading","hasImportStarted","Boolean","hasImportFinished","isNil","HistoricalDataPeriodSelector","disabled","value","onSelectChange","onDatePickerChange","isValid","text","getDatePickerError","momentDate","length","dateValidationMessages","invalid","isAfter","future","getDatePicker","toDate","HistoricalDataProgress","progress","labelText","sprintf","labelCounters","HistoricalDataSkipCheckbox","checked","onChange","HISTORICAL_DATA_STATUS_FILTER","HistoricalDataStatus","statusLabels","applyFilters","nothing","ready","initializing","finalizing","finished","useFilters","skip_existing","daysDifference","diff","days","Math","floor","parseInt","SETTINGS_FILTER","Settings","query","useSettings","settingsError","isRequesting","isDirty","persistSettings","updateAndPersistSettings","updateSettings","wcAdminSettings","hasSaved","useRef","useEffect","warnIfUnsavedChanges","event","returnValue","window","addEventListener","removeEventListener","current","resetDefaults","confirm","resetSettings","Object","keys","config","reduce","result","setting","defaultValue","saveChanges","undefined","compare","before","after","interval","wpNavMenuUrlUpdate","handleInputChange","e","target","nextSettings","filter","v","map","import","Setting","renderInput","handleChange","inputText","inputType","options","component","optionGroup","key","renderCheckboxOptions","handleInputCallback","SettingComponent","uniqueId","callback","Promise","resolve","reject","option","helpText","propTypes","PropTypes","func","isRequired","oneOfType","string","array","oneOf","arrayOf","shape","description"],"mappings":"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","file":"chunks/analytics-settings.73c9509ccfdcd5674ba2.min.js","sourcesContent":["/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\n\nfunction HistoricalDataActions( {\n\timportDate,\n\tonDeletePreviousData,\n\tonReimportData,\n\tonStartImport,\n\tonStopImport,\n\tstatus,\n} ) {\n\tconst getActions = () => {\n\t\tconst importDisabled = status !== 'ready';\n\n\t\t// An import is currently in progress\n\t\tif (\n\t\t\t[ 'initializing', 'customers', 'orders', 'finalizing' ].includes(\n\t\t\t\tstatus\n\t\t\t)\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"woocommerce-settings-historical-data__action-button\"\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tonClick={ onStopImport }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Stop Import', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<div className=\"woocommerce-setting__help woocommerce-settings-historical-data__action-help\">\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Imported data will not be lost if the import is stopped.',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Navigating away from this page will not affect the import.',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\tif ( [ 'ready', 'nothing' ].includes( status ) ) {\n\t\t\tif ( importDate ) {\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\tonClick={ onStartImport }\n\t\t\t\t\t\t\tdisabled={ importDisabled }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Start', 'woocommerce-admin' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button isSecondary onClick={ onDeletePreviousData }>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Delete Previously Imported Data',\n\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tonClick={ onStartImport }\n\t\t\t\t\t\tdisabled={ importDisabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Start', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}\n\n\t\t// Has imported all possible data\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Button isSecondary onClick={ onReimportData }>\n\t\t\t\t\t{ __( 'Re-import Data', 'woocommerce-admin' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button isSecondary onClick={ onDeletePreviousData }>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Delete Previously Imported Data',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"woocommerce-settings__actions woocommerce-settings-historical-data__actions\">\n\t\t\t{ getActions() }\n\t\t</div>\n\t);\n}\n\nexport default HistoricalDataActions;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport moment from 'moment';\nimport { withDispatch } from '@wordpress/data';\nimport { withSpokenMessages } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { formatParams } from './utils';\nimport HistoricalDataLayout from './layout';\nimport { QUERY_DEFAULTS } from 'wc-api/constants';\nimport { recordEvent } from 'lib/tracks';\nimport withSelect from 'wc-api/with-select';\n\nclass HistoricalData extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.dateFormat = __( 'MM/DD/YYYY', 'woocommerce-admin' );\n\n\t\tthis.state = {\n\t\t\t// Whether there is an active import (which might have been stopped)\n\t\t\t// that matches the period and skipChecked settings\n\t\t\tactiveImport: null,\n\t\t\tlastImportStartTimestamp: 0,\n\t\t\tlastImportStopTimestamp: 0,\n\t\t\tperiod: {\n\t\t\t\tdate: moment().format( this.dateFormat ),\n\t\t\t\tlabel: 'all',\n\t\t\t},\n\t\t\tskipChecked: true,\n\t\t};\n\n\t\tthis.makeQuery = this.makeQuery.bind( this );\n\t\tthis.onImportFinished = this.onImportFinished.bind( this );\n\t\tthis.onImportStarted = this.onImportStarted.bind( this );\n\t\tthis.onDeletePreviousData = this.onDeletePreviousData.bind( this );\n\t\tthis.onReimportData = this.onReimportData.bind( this );\n\t\tthis.onStartImport = this.onStartImport.bind( this );\n\t\tthis.onStopImport = this.onStopImport.bind( this );\n\t\tthis.onDateChange = this.onDateChange.bind( this );\n\t\tthis.onPeriodChange = this.onPeriodChange.bind( this );\n\t\tthis.onSkipChange = this.onSkipChange.bind( this );\n\t}\n\n\tmakeQuery( path, errorMessage ) {\n\t\tconst { createNotice } = this.props;\n\t\tapiFetch( { path, method: 'POST' } )\n\t\t\t.then( ( response ) => {\n\t\t\t\tif ( response.status === 'success' ) {\n\t\t\t\t\tcreateNotice( 'success', response.message );\n\t\t\t\t} else {\n\t\t\t\t\tcreateNotice( 'error', errorMessage );\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tactiveImport: false,\n\t\t\t\t\t\tlastImportStopTimestamp: Date.now(),\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tif ( error && error.message ) {\n\t\t\t\t\tcreateNotice( 'error', error.message );\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tactiveImport: false,\n\t\t\t\t\t\tlastImportStopTimestamp: Date.now(),\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t}\n\n\tonImportFinished() {\n\t\tconst { debouncedSpeak } = this.props;\n\t\tdebouncedSpeak( 'Import complete' );\n\t\tthis.setState( {\n\t\t\tlastImportStopTimestamp: Date.now(),\n\t\t} );\n\t}\n\n\tonImportStarted() {\n\t\tconst { notes, updateNote } = this.props;\n\n\t\tconst historicalDataNote = notes.find(\n\t\t\t( note ) => note.name === 'wc-admin-historical-data'\n\t\t);\n\t\tif ( historicalDataNote ) {\n\t\t\tupdateNote( historicalDataNote.id, { status: 'actioned' } );\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tactiveImport: true,\n\t\t\tlastImportStartTimestamp: Date.now(),\n\t\t} );\n\t}\n\n\tonDeletePreviousData() {\n\t\tconst path = '/wc-analytics/reports/import/delete';\n\t\tconst errorMessage = __(\n\t\t\t'There was a problem deleting your previous data.',\n\t\t\t'woocommerce-admin'\n\t\t);\n\t\tthis.makeQuery( path, errorMessage );\n\t\tthis.setState( {\n\t\t\tactiveImport: false,\n\t\t} );\n\t\trecordEvent( 'analytics_import_delete_previous' );\n\t}\n\n\tonReimportData() {\n\t\tthis.setState( {\n\t\t\tactiveImport: false,\n\t\t} );\n\t}\n\n\tonStartImport() {\n\t\tconst { period, skipChecked } = this.state;\n\t\tconst path = addQueryArgs(\n\t\t\t'/wc-analytics/reports/import',\n\t\t\tformatParams( this.dateFormat, period, skipChecked )\n\t\t);\n\t\tconst errorMessage = __(\n\t\t\t'There was a problem rebuilding your report data.',\n\t\t\t'woocommerce-admin'\n\t\t);\n\t\tthis.makeQuery( path, errorMessage );\n\t\tthis.onImportStarted();\n\t}\n\n\tonStopImport() {\n\t\tthis.setState( {\n\t\t\tlastImportStopTimestamp: Date.now(),\n\t\t} );\n\t\tconst path = '/wc-analytics/reports/import/cancel';\n\t\tconst errorMessage = __(\n\t\t\t'There was a problem stopping your current import.',\n\t\t\t'woocommerce-admin'\n\t\t);\n\t\tthis.makeQuery( path, errorMessage );\n\t}\n\n\tonPeriodChange( val ) {\n\t\tthis.setState( {\n\t\t\tactiveImport: false,\n\t\t\tperiod: {\n\t\t\t\t...this.state.period,\n\t\t\t\tlabel: val,\n\t\t\t},\n\t\t} );\n\t}\n\n\tonDateChange( val ) {\n\t\tthis.setState( {\n\t\t\tactiveImport: false,\n\t\t\tperiod: {\n\t\t\t\tdate: val,\n\t\t\t\tlabel: 'custom',\n\t\t\t},\n\t\t} );\n\t}\n\n\tonSkipChange( val ) {\n\t\tthis.setState( {\n\t\t\tactiveImport: false,\n\t\t\tskipChecked: val,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactiveImport,\n\t\t\tlastImportStartTimestamp,\n\t\t\tlastImportStopTimestamp,\n\t\t\tperiod,\n\t\t\tskipChecked,\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<HistoricalDataLayout\n\t\t\t\tactiveImport={ activeImport }\n\t\t\t\tdateFormat={ this.dateFormat }\n\t\t\t\tonImportFinished={ this.onImportFinished }\n\t\t\t\tonImportStarted={ this.onImportStarted }\n\t\t\t\tlastImportStartTimestamp={ lastImportStartTimestamp }\n\t\t\t\tlastImportStopTimestamp={ lastImportStopTimestamp }\n\t\t\t\tonPeriodChange={ this.onPeriodChange }\n\t\t\t\tonDateChange={ this.onDateChange }\n\t\t\t\tonSkipChange={ this.onSkipChange }\n\t\t\t\tonDeletePreviousData={ this.onDeletePreviousData }\n\t\t\t\tonReimportData={ this.onReimportData }\n\t\t\t\tonStartImport={ this.onStartImport }\n\t\t\t\tonStopImport={ this.onStopImport }\n\t\t\t\tperiod={ period }\n\t\t\t\tskipChecked={ skipChecked }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getNotes } = select( 'wc-api' );\n\n\t\tconst notesQuery = {\n\t\t\tpage: 1,\n\t\t\tper_page: QUERY_DEFAULTS.pageSize,\n\t\t\ttype: 'update',\n\t\t\tstatus: 'unactioned',\n\t\t};\n\t\tconst notes = getNotes( notesQuery );\n\n\t\treturn { notes };\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { updateNote } = dispatch( 'wc-api' );\n\n\t\treturn { updateNote };\n\t} ),\n\twithSpokenMessages,\n] )( HistoricalData );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, Fragment } from '@wordpress/element';\nimport { isNil } from 'lodash';\nimport { SECOND } from '@fresh-data/framework';\n\n/**\n * WooCommerce dependencies\n */\nimport { SectionHeader } from '@woocommerce/components';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_REQUIREMENT } from 'wc-api/constants';\nimport { formatParams, getStatus } from './utils';\nimport HistoricalDataActions from './actions';\nimport HistoricalDataPeriodSelector from './period-selector';\nimport HistoricalDataProgress from './progress';\nimport HistoricalDataStatus from './status';\nimport HistoricalDataSkipCheckbox from './skip-checkbox';\nimport withSelect from 'wc-api/with-select';\nimport './style.scss';\n\nclass HistoricalDataLayout extends Component {\n\trender() {\n\t\tconst {\n\t\t\tcustomersProgress,\n\t\t\tcustomersTotal,\n\t\t\tdateFormat,\n\t\t\timportDate,\n\t\t\tinProgress,\n\t\t\tonPeriodChange,\n\t\t\tonDateChange,\n\t\t\tonSkipChange,\n\t\t\tonDeletePreviousData,\n\t\t\tonReimportData,\n\t\t\tonStartImport,\n\t\t\tonStopImport,\n\t\t\tordersProgress,\n\t\t\tordersTotal,\n\t\t\tperiod,\n\t\t\tskipChecked,\n\t\t} = this.props;\n\t\tconst status = getStatus( {\n\t\t\tcustomersProgress,\n\t\t\tcustomersTotal,\n\t\t\tinProgress,\n\t\t\tordersProgress,\n\t\t\tordersTotal,\n\t\t} );\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<SectionHeader\n\t\t\t\t\ttitle={ __(\n\t\t\t\t\t\t'Import Historical Data',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t<div className=\"woocommerce-settings__wrapper\">\n\t\t\t\t\t<div className=\"woocommerce-setting\">\n\t\t\t\t\t\t<div className=\"woocommerce-setting__input\">\n\t\t\t\t\t\t\t<span className=\"woocommerce-setting__help\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'This tool populates historical analytics data by processing customers ' +\n\t\t\t\t\t\t\t\t\t\t'and orders created prior to activating WooCommerce Admin.',\n\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{ status !== 'finished' && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<HistoricalDataPeriodSelector\n\t\t\t\t\t\t\t\t\t\tdateFormat={ dateFormat }\n\t\t\t\t\t\t\t\t\t\tdisabled={ inProgress }\n\t\t\t\t\t\t\t\t\t\tonPeriodChange={ onPeriodChange }\n\t\t\t\t\t\t\t\t\t\tonDateChange={ onDateChange }\n\t\t\t\t\t\t\t\t\t\tvalue={ period }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<HistoricalDataSkipCheckbox\n\t\t\t\t\t\t\t\t\t\tdisabled={ inProgress }\n\t\t\t\t\t\t\t\t\t\tchecked={ skipChecked }\n\t\t\t\t\t\t\t\t\t\tonChange={ onSkipChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<HistoricalDataProgress\n\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Registered Customers',\n\t\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tprogress={ customersProgress }\n\t\t\t\t\t\t\t\t\t\ttotal={ customersTotal }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<HistoricalDataProgress\n\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Orders and Refunds',\n\t\t\t\t\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tprogress={ ordersProgress }\n\t\t\t\t\t\t\t\t\t\ttotal={ ordersTotal }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<HistoricalDataStatus\n\t\t\t\t\t\t\t\timportDate={ importDate }\n\t\t\t\t\t\t\t\tstatus={ status }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<HistoricalDataActions\n\t\t\t\t\timportDate={ importDate }\n\t\t\t\t\tonDeletePreviousData={ onDeletePreviousData }\n\t\t\t\t\tonReimportData={ onReimportData }\n\t\t\t\t\tonStartImport={ onStartImport }\n\t\t\t\t\tonStopImport={ onStopImport }\n\t\t\t\t\tstatus={ status }\n\t\t\t\t/>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default withSelect( ( select, props ) => {\n\tconst {\n\t\tgetImportStatus,\n\t\tisGetImportStatusRequesting,\n\t\tgetImportTotals,\n\t} = select( 'wc-api' );\n\tconst {\n\t\tactiveImport,\n\t\tdateFormat,\n\t\tlastImportStartTimestamp,\n\t\tlastImportStopTimestamp,\n\t\tonImportStarted,\n\t\tonImportFinished,\n\t\tperiod,\n\t\tskipChecked,\n\t} = props;\n\n\tconst inProgress =\n\t\t( typeof lastImportStartTimestamp !== 'undefined' &&\n\t\t\ttypeof lastImportStopTimestamp === 'undefined' ) ||\n\t\tlastImportStartTimestamp > lastImportStopTimestamp;\n\n\tconst params = formatParams( dateFormat, period, skipChecked );\n\t// Use timestamp to invalidate previous totals when the import finished/stopped\n\tconst { customers, orders } = getImportTotals(\n\t\tparams,\n\t\tlastImportStopTimestamp\n\t);\n\tconst requirement = inProgress\n\t\t? {\n\t\t\t\tfreshness: 3 * SECOND,\n\t\t\t\ttimeout: 3 * SECOND,\n\t\t  }\n\t\t: DEFAULT_REQUIREMENT;\n\n\t// Use timestamp to invalidate previous status when a new import starts\n\tconst {\n\t\tcustomers: customersStatus,\n\t\timported_from: importDate,\n\t\tis_importing: isImporting,\n\t\torders: ordersStatus,\n\t} = getImportStatus( lastImportStartTimestamp, requirement );\n\tconst { imported: customersProgress, total: customersTotal } =\n\t\tcustomersStatus || {};\n\tconst { imported: ordersProgress, total: ordersTotal } = ordersStatus || {};\n\tconst isStatusLoading = isGetImportStatusRequesting(\n\t\tlastImportStartTimestamp\n\t);\n\n\tconst hasImportStarted = Boolean(\n\t\t! lastImportStartTimestamp &&\n\t\t\t! isStatusLoading &&\n\t\t\t! inProgress &&\n\t\t\tisImporting === true\n\t);\n\tif ( hasImportStarted ) {\n\t\tonImportStarted();\n\t}\n\tconst hasImportFinished = Boolean(\n\t\t! isStatusLoading &&\n\t\t\tinProgress &&\n\t\t\tisImporting === false &&\n\t\t\t( ( customersProgress === customersTotal && customersTotal > 0 ) ||\n\t\t\t\t( ordersProgress === ordersTotal && ordersTotal > 0 ) )\n\t);\n\tif ( hasImportFinished ) {\n\t\tonImportFinished();\n\t}\n\n\tif ( ! activeImport ) {\n\t\treturn {\n\t\t\tcustomersTotal: customers,\n\t\t\timportDate,\n\t\t\tordersTotal: orders,\n\t\t};\n\t}\n\n\treturn {\n\t\tcustomersProgress,\n\t\tcustomersTotal: isNil( customersTotal ) ? customers : customersTotal,\n\t\timportDate,\n\t\tinProgress,\n\t\tordersProgress,\n\t\tordersTotal: isNil( ordersTotal ) ? orders : ordersTotal,\n\t};\n} )( HistoricalDataLayout );\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport moment from 'moment';\nimport { SelectControl } from '@wordpress/components';\n\n/**\n * WooCommerce dependencies\n */\nimport { DatePicker } from '@woocommerce/components';\nimport { dateValidationMessages } from 'lib/date';\n\nfunction HistoricalDataPeriodSelector( {\n\tdateFormat,\n\tdisabled,\n\tonDateChange,\n\tonPeriodChange,\n\tvalue,\n} ) {\n\tconst onSelectChange = ( val ) => {\n\t\tonPeriodChange( val );\n\t};\n\tconst onDatePickerChange = ( val ) => {\n\t\tif ( val.date && val.date.isValid ) {\n\t\t\tonDateChange( val.date.format( dateFormat ) );\n\t\t} else {\n\t\t\tonDateChange( val.text );\n\t\t}\n\t};\n\tconst getDatePickerError = ( momentDate ) => {\n\t\tif (\n\t\t\t! momentDate.isValid() ||\n\t\t\tvalue.date.length !== dateFormat.length\n\t\t) {\n\t\t\treturn dateValidationMessages.invalid;\n\t\t}\n\t\tif ( momentDate.isAfter( new Date(), 'day' ) ) {\n\t\t\treturn dateValidationMessages.future;\n\t\t}\n\t\treturn null;\n\t};\n\tconst getDatePicker = () => {\n\t\tconst momentDate = moment( value.date, dateFormat );\n\t\treturn (\n\t\t\t<div className=\"woocommerce-settings-historical-data__column\">\n\t\t\t\t<div className=\"woocommerce-settings-historical-data__column-label\">\n\t\t\t\t\t{ __( 'Beginning on', 'woocommerce-admin' ) }\n\t\t\t\t</div>\n\t\t\t\t<DatePicker\n\t\t\t\t\tdate={ momentDate.isValid() ? momentDate.toDate() : null }\n\t\t\t\t\tdateFormat={ dateFormat }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\terror={ getDatePickerError( momentDate ) }\n\t\t\t\t\tisInvalidDate={ ( date ) =>\n\t\t\t\t\t\tmoment( date ).isAfter( new Date(), 'day' )\n\t\t\t\t\t}\n\t\t\t\t\tonUpdate={ onDatePickerChange }\n\t\t\t\t\ttext={ value.date }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"woocommerce-settings-historical-data__columns\">\n\t\t\t<div className=\"woocommerce-settings-historical-data__column\">\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t'Import Historical Data',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t) }\n\t\t\t\t\tvalue={ value.label }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tonChange={ onSelectChange }\n\t\t\t\t\toptions={ [\n\t\t\t\t\t\t{ label: 'All', value: 'all' },\n\t\t\t\t\t\t{ label: 'Last 365 days', value: '365' },\n\t\t\t\t\t\t{ label: 'Last 90 days', value: '90' },\n\t\t\t\t\t\t{ label: 'Last 30 days', value: '30' },\n\t\t\t\t\t\t{ label: 'Last 7 days', value: '7' },\n\t\t\t\t\t\t{ label: 'Last 24 hours', value: '1' },\n\t\t\t\t\t\t{ label: 'Custom', value: 'custom' },\n\t\t\t\t\t] }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{ value.label === 'custom' && getDatePicker() }\n\t\t</div>\n\t);\n}\n\nexport default HistoricalDataPeriodSelector;\n","/**\n * External dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { isNil } from 'lodash';\n\nfunction HistoricalDataProgress( { label, progress, total } ) {\n\tconst labelText = sprintf(\n\t\t__( 'Imported %(label)s', 'woocommerce-admin' ),\n\t\t{\n\t\t\tlabel,\n\t\t}\n\t);\n\n\tconst labelCounters = ! isNil( total )\n\t\t? sprintf( __( '%(progress)s of %(total)s', 'woocommerce-admin' ), {\n\t\t\t\tprogress: progress || 0,\n\t\t\t\ttotal,\n\t\t  } )\n\t\t: null;\n\n\treturn (\n\t\t<div className=\"woocommerce-settings-historical-data__progress\">\n\t\t\t<span className=\"woocommerce-settings-historical-data__progress-label\">\n\t\t\t\t{ labelText }\n\t\t\t</span>\n\t\t\t{ labelCounters && (\n\t\t\t\t<span className=\"woocommerce-settings-historical-data__progress-label\">\n\t\t\t\t\t{ labelCounters }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t<progress\n\t\t\t\tclassName=\"woocommerce-settings-historical-data__progress-bar\"\n\t\t\t\tmax={ total }\n\t\t\t\tvalue={ progress || 0 }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default HistoricalDataProgress;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\n\nfunction HistoricalDataSkipCheckbox( { checked, disabled, onChange } ) {\n\treturn (\n\t\t<CheckboxControl\n\t\t\tclassName=\"woocommerce-settings-historical-data__skip-checkbox\"\n\t\t\tchecked={ checked }\n\t\t\tdisabled={ disabled }\n\t\t\tlabel={ __(\n\t\t\t\t'Skip previously imported customers and orders',\n\t\t\t\t'woocommerce-admin'\n\t\t\t) }\n\t\t\tonChange={ onChange }\n\t\t/>\n\t);\n}\n\nexport default HistoricalDataSkipCheckbox;\n","/**\n * External dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport moment from 'moment';\nimport { Spinner } from '@wordpress/components';\n\n/**\n * WooCommerce dependencies\n */\nimport { useFilters } from '@woocommerce/components';\n\nconst HISTORICAL_DATA_STATUS_FILTER = 'woocommerce_admin_import_status';\n\nfunction HistoricalDataStatus( { importDate, status } ) {\n\tconst statusLabels = applyFilters( HISTORICAL_DATA_STATUS_FILTER, {\n\t\tnothing: __( 'Nothing To Import', 'woocommerce-admin' ),\n\t\tready: __( 'Ready To Import', 'woocommerce-admin' ),\n\t\tinitializing: [\n\t\t\t__( 'Initializing', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\tcustomers: [\n\t\t\t__( 'Importing Customers', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\torders: [\n\t\t\t__( 'Importing Orders', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\tfinalizing: [\n\t\t\t__( 'Finalizing', 'woocommerce-admin' ),\n\t\t\t<Spinner key=\"spinner\" />,\n\t\t],\n\t\tfinished:\n\t\t\timportDate === -1\n\t\t\t\t? __( 'All historical data imported', 'woocommerce-admin' )\n\t\t\t\t: sprintf(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Historical data from %s onward imported',\n\t\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t// @todo The date formatting should be localized ( 'll' ), but this is currently broken in Gutenberg.\n\t\t\t\t\t\t// See https://github.com/WordPress/gutenberg/issues/12626 for details.\n\t\t\t\t\t\tmoment( importDate ).format( 'YYYY-MM-DD' )\n\t\t\t\t  ),\n\t} );\n\n\treturn (\n\t\t<span className=\"woocommerce-settings-historical-data__status\">\n\t\t\t{ __( 'Status:', 'woocommerce-admin' ) + ' ' }\n\t\t\t{ statusLabels[ status ] }\n\t\t</span>\n\t);\n}\n\nexport default useFilters( HISTORICAL_DATA_STATUS_FILTER )(\n\tHistoricalDataStatus\n);\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { isNil } from 'lodash';\nimport moment from 'moment';\n\nexport const formatParams = ( dateFormat, period, skipChecked ) => {\n\tconst params = {};\n\tif ( skipChecked ) {\n\t\tparams.skip_existing = true;\n\t}\n\tif ( period.label !== 'all' ) {\n\t\tif ( period.label === 'custom' ) {\n\t\t\tconst daysDifference = moment().diff(\n\t\t\t\tmoment( period.date, dateFormat ),\n\t\t\t\t'days',\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tparams.days = Math.floor( daysDifference );\n\t\t} else {\n\t\t\tparams.days = parseInt( period.label, 10 );\n\t\t}\n\t}\n\n\treturn params;\n};\n\nexport const getStatus = ( {\n\tcustomersProgress,\n\tcustomersTotal,\n\tinProgress,\n\tordersProgress,\n\tordersTotal,\n} ) => {\n\tif ( inProgress ) {\n\t\tif (\n\t\t\tisNil( customersProgress ) ||\n\t\t\tisNil( ordersProgress ) ||\n\t\t\tisNil( customersTotal ) ||\n\t\t\tisNil( ordersTotal )\n\t\t) {\n\t\t\treturn 'initializing';\n\t\t}\n\t\tif ( customersProgress < customersTotal ) {\n\t\t\treturn 'customers';\n\t\t}\n\t\tif ( ordersProgress < ordersTotal ) {\n\t\t\treturn 'orders';\n\t\t}\n\t\treturn 'finalizing';\n\t}\n\tif ( customersTotal > 0 || ordersTotal > 0 ) {\n\t\tif (\n\t\t\tcustomersProgress === customersTotal &&\n\t\t\tordersProgress === ordersTotal\n\t\t) {\n\t\t\treturn 'finished';\n\t\t}\n\t\treturn 'ready';\n\t}\n\treturn 'nothing';\n};\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Fragment, useEffect, useRef } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withDispatch } from '@wordpress/data';\n\n/**\n * WooCommerce dependencies\n */\nimport { SectionHeader, useFilters, ScrollTo } from '@woocommerce/components';\nimport { useSettings } from '@woocommerce/data';\n\n/**\n * Internal dependencies\n */\nimport './index.scss';\nimport { config } from './config';\nimport Setting from './setting';\nimport HistoricalData from './historical-data';\nimport { recordEvent } from 'lib/tracks';\n\nconst SETTINGS_FILTER = 'woocommerce_admin_analytics_settings';\n\nconst Settings = ( { createNotice, query } ) => {\n\tconst {\n\t\tsettingsError,\n\t\tisRequesting,\n\t\tisDirty,\n\t\tpersistSettings,\n\t\tupdateAndPersistSettings,\n\t\tupdateSettings,\n\t\twcAdminSettings,\n\t} = useSettings( 'wc_admin', [ 'wcAdminSettings' ] );\n\tconst hasSaved = useRef( false );\n\n\tuseEffect( () => {\n\t\tfunction warnIfUnsavedChanges( event ) {\n\t\t\tif ( isDirty ) {\n\t\t\t\tevent.returnValue = __(\n\t\t\t\t\t'You have unsaved changes. If you proceed, they will be lost.',\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t);\n\t\t\t\treturn event.returnValue;\n\t\t\t}\n\t\t}\n\t\twindow.addEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t\treturn () =>\n\t\t\twindow.removeEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t}, [ isDirty ] );\n\n\tuseEffect( () => {\n\t\tif ( isRequesting ) {\n\t\t\thasSaved.current = true;\n\t\t\treturn;\n\t\t}\n\t\tif ( ! isRequesting && hasSaved.current ) {\n\t\t\tif ( ! settingsError ) {\n\t\t\t\tcreateNotice(\n\t\t\t\t\t'success',\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Your settings have been successfully saved.',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcreateNotice(\n\t\t\t\t\t'error',\n\t\t\t\t\t__(\n\t\t\t\t\t\t'There was an error saving your settings.  Please try again.',\n\t\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\thasSaved.current = false;\n\t\t}\n\t}, [ isRequesting, settingsError, createNotice ] );\n\n\tconst resetDefaults = () => {\n\t\tif (\n\t\t\t// eslint-disable-next-line no-alert\n\t\t\twindow.confirm(\n\t\t\t\t__(\n\t\t\t\t\t'Are you sure you want to reset all settings to default values?',\n\t\t\t\t\t'woocommerce-admin'\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\t\t\tconst resetSettings = Object.keys( config ).reduce(\n\t\t\t\t( result, setting ) => {\n\t\t\t\t\tresult[ setting ] = config[ setting ].defaultValue;\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\n\t\t\tupdateAndPersistSettings( 'wcAdminSettings', resetSettings );\n\t\t\trecordEvent( 'analytics_settings_reset_defaults' );\n\t\t}\n\t};\n\n\tconst saveChanges = () => {\n\t\tpersistSettings();\n\t\trecordEvent( 'analytics_settings_save', wcAdminSettings );\n\n\t\t// On save, reset persisted query properties of Nav Menu links to default\n\t\tquery.period = undefined;\n\t\tquery.compare = undefined;\n\t\tquery.before = undefined;\n\t\tquery.after = undefined;\n\t\tquery.interval = undefined;\n\t\tquery.type = undefined;\n\t\twindow.wpNavMenuUrlUpdate( query );\n\t};\n\n\tconst handleInputChange = ( e ) => {\n\t\tconst { checked, name, type, value } = e.target;\n\t\tconst nextSettings = { ...wcAdminSettings };\n\n\t\tif ( type === 'checkbox' ) {\n\t\t\tif ( checked ) {\n\t\t\t\tnextSettings[ name ] = [ ...nextSettings[ name ], value ];\n\t\t\t} else {\n\t\t\t\tnextSettings[ name ] = nextSettings[ name ].filter(\n\t\t\t\t\t( v ) => v !== value\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tnextSettings[ name ] = value;\n\t\t}\n\t\tupdateSettings( 'wcAdminSettings', nextSettings );\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<SectionHeader\n\t\t\t\ttitle={ __( 'Analytics Settings', 'woocommerce-admin' ) }\n\t\t\t/>\n\t\t\t<div className=\"woocommerce-settings__wrapper\">\n\t\t\t\t{ Object.keys( config ).map( ( setting ) => (\n\t\t\t\t\t<Setting\n\t\t\t\t\t\thandleChange={ handleInputChange }\n\t\t\t\t\t\tvalue={ wcAdminSettings[ setting ] }\n\t\t\t\t\t\tkey={ setting }\n\t\t\t\t\t\tname={ setting }\n\t\t\t\t\t\t{ ...config[ setting ] }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t\t<div className=\"woocommerce-settings__actions\">\n\t\t\t\t\t<Button isSecondary onClick={ resetDefaults }>\n\t\t\t\t\t\t{ __( 'Reset Defaults', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\tisBusy={ isRequesting }\n\t\t\t\t\t\tonClick={ saveChanges }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Save Settings', 'woocommerce-admin' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ query.import === 'true' ? (\n\t\t\t\t<ScrollTo offset=\"-56\">\n\t\t\t\t\t<HistoricalData createNotice={ createNotice } />\n\t\t\t\t</ScrollTo>\n\t\t\t) : (\n\t\t\t\t<HistoricalData createNotice={ createNotice } />\n\t\t\t) }\n\t\t</Fragment>\n\t);\n};\n\nexport default compose(\n\twithDispatch( ( dispatch ) => {\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\n\t\treturn {\n\t\t\tcreateNotice,\n\t\t};\n\t} )\n)( useFilters( SETTINGS_FILTER )( Settings ) );\n","// extracted by mini-css-extract-plugin","/**\n * External dependencies\n */\nimport { Button, CheckboxControl } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport PropTypes from 'prop-types';\nimport { uniqueId } from 'lodash';\nimport { withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport './setting.scss';\n\nclass Setting extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tdisabled: false,\n\t\t};\n\t}\n\n\trenderInput = () => {\n\t\tconst {\n\t\t\thandleChange,\n\t\t\tname,\n\t\t\tinputText,\n\t\t\tinputType,\n\t\t\toptions,\n\t\t\tvalue,\n\t\t\tcomponent,\n\t\t} = this.props;\n\t\tconst { disabled } = this.state;\n\n\t\tswitch ( inputType ) {\n\t\t\tcase 'checkboxGroup':\n\t\t\t\treturn options.map(\n\t\t\t\t\t( optionGroup ) =>\n\t\t\t\t\t\toptionGroup.options.length > 0 && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"woocommerce-setting__options-group\"\n\t\t\t\t\t\t\t\tkey={ optionGroup.key }\n\t\t\t\t\t\t\t\taria-labelledby={ name + '-label' }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ optionGroup.label && (\n\t\t\t\t\t\t\t\t\t<span className=\"woocommerce-setting__options-group-label\">\n\t\t\t\t\t\t\t\t\t\t{ optionGroup.label }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t{ this.renderCheckboxOptions(\n\t\t\t\t\t\t\t\t\toptionGroup.options\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tcase 'checkbox':\n\t\t\t\treturn this.renderCheckboxOptions( options );\n\t\t\tcase 'button':\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\tonClick={ this.handleInputCallback }\n\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ inputText }\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tcase 'component':\n\t\t\t\tconst SettingComponent = component;\n\t\t\t\treturn (\n\t\t\t\t\t<SettingComponent\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t{ ...this.props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase 'text':\n\t\t\tdefault:\n\t\t\t\tconst id = uniqueId( name );\n\t\t\t\treturn (\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tplaceholder={ inputText }\n\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t};\n\n\thandleInputCallback = () => {\n\t\tconst { createNotice, callback } = this.props;\n\n\t\tif ( typeof callback !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tthis.setState( { disabled: true } );\n\t\t\tcallback( resolve, reject, createNotice );\n\t\t} )\n\t\t\t.then( () => {\n\t\t\t\tthis.setState( { disabled: false } );\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tthis.setState( { disabled: false } );\n\t\t\t} );\n\t};\n\n\trenderCheckboxOptions( options ) {\n\t\tconst { handleChange, name, value } = this.props;\n\t\tconst { disabled } = this.state;\n\n\t\treturn options.map( ( option ) => {\n\t\t\treturn (\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tkey={ name + '-' + option.value }\n\t\t\t\t\tlabel={ option.label }\n\t\t\t\t\tname={ name }\n\t\t\t\t\tchecked={ value && value.includes( option.value ) }\n\t\t\t\t\tonChange={ ( checked ) =>\n\t\t\t\t\t\thandleChange( {\n\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\tchecked,\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\t\tvalue: option.value,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t);\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { helpText, label, name } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"woocommerce-setting\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"woocommerce-setting__label\"\n\t\t\t\t\tid={ name + '-label' }\n\t\t\t\t>\n\t\t\t\t\t{ label }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"woocommerce-setting__input\">\n\t\t\t\t\t{ this.renderInput() }\n\t\t\t\t\t{ helpText && (\n\t\t\t\t\t\t<span className=\"woocommerce-setting__help\">\n\t\t\t\t\t\t\t{ helpText }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSetting.propTypes = {\n\t/**\n\t * A callback that is fired after actionable items, such as buttons.\n\t */\n\tcallback: PropTypes.func,\n\t/**\n\t * Function assigned to the onChange of all inputs.\n\t */\n\thandleChange: PropTypes.func.isRequired,\n\t/**\n\t * Optional help text displayed underneath the setting.\n\t */\n\thelpText: PropTypes.oneOfType( [ PropTypes.string, PropTypes.array ] ),\n\t/**\n\t * Text used as placeholder or button text in the input area.\n\t */\n\tinputText: PropTypes.string,\n\t/**\n\t * Type of input to use; defaults to a text input.\n\t */\n\tinputType: PropTypes.oneOf( [\n\t\t'button',\n\t\t'checkbox',\n\t\t'checkboxGroup',\n\t\t'text',\n\t\t'component',\n\t] ),\n\t/**\n\t * Label used for describing the setting.\n\t */\n\tlabel: PropTypes.string.isRequired,\n\t/**\n\t * Setting slug applied to input names.\n\t */\n\tname: PropTypes.string.isRequired,\n\t/**\n\t * Array of options used for when the `inputType` allows multiple selections.\n\t */\n\toptions: PropTypes.arrayOf(\n\t\tPropTypes.shape( {\n\t\t\t/**\n\t\t\t * Input value for this option.\n\t\t\t */\n\t\t\tvalue: PropTypes.string,\n\t\t\t/**\n\t\t\t * Label for this option or above a group for a group `inputType`.\n\t\t\t */\n\t\t\tlabel: PropTypes.string,\n\t\t\t/**\n\t\t\t * Description used for screen readers.\n\t\t\t */\n\t\t\tdescription: PropTypes.string,\n\t\t\t/**\n\t\t\t * Key used for a group `inputType`.\n\t\t\t */\n\t\t\tkey: PropTypes.string,\n\t\t\t/**\n\t\t\t * Nested options for a group `inputType`.\n\t\t\t */\n\t\t\toptions: PropTypes.array,\n\t\t} )\n\t),\n\t/**\n\t * The string value used for the input or array of items if the input allows multiselection.\n\t */\n\tvalue: PropTypes.oneOfType( [ PropTypes.string, PropTypes.array ] ),\n};\n\nexport default compose(\n\twithDispatch( ( dispatch ) => {\n\t\tconst { createNotice } = dispatch( 'core/notices' );\n\t\treturn { createNotice };\n\t} )\n)( Setting );\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}